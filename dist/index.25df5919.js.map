{"mappings":"AGAA,IAAA,EAAe,WAAa,AAAC,IAC3B,IAAI,EAAW,GAkBf,OAhBA,EAAI,OAAO,CAAC,AAAC,IACX,GAAI,CAAA,MAAE,CAAK,CAAA,YAAE,CAAW,CAAA,YAAE,CAAW,CAAA,aAAE,CAAY,CAAA,aAAE,CAAY,CAAA,GAAE,CAAE,CAAE,CACrE,EACF,GAAY,CAAC;mFACkE,EAAE,EAAY,8BAA8B,EAAE,EAAG;oDAChF,EAAE,EAAM;;sDAEN,EAAE,EAAY,IAAI,CAC9C,MACA,GAAG,EAAE,EAAa;oDACQ,EAAE,EAAa;;;QAG3D,CAAC,AACP,GAEO,CACT,EFjBA,MAAM,EAAM,ICHG,MACb,aAAc,CACZ,IAAI,CAAC,OAAO,CAAG,+BACf,IAAI,CAAC,GAAG,CAAG,mCACX,IAAI,CAAC,IAAI,CAAG,QACZ,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,MAAM,CAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,AAC7E,CAEA,YAAa,CACX,OAAO,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EACxD,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,AAAC,GAAS,EACpB,CACA,WAAY,CACV,OAAO,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAC3D,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,AAAC,GAAS,EACpB,CACF,EDdM,EAAa,SAAS,aAAa,CAAC,cAEpC,EAAY,CAAC,EAAQ,IAClB,EAAO,GAAG,CAAC,CAAC,CAAA,UAAE,CAAS,CAAE,GAAG,EAAY,IAC7C,IAAI,EAAc,EAAU,GAAG,CAC7B,AAAC,GAAY,EAAO,IAAI,CAAC,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,IAAO,GAAS,IAAI,EAG3D,MAAO,CAAE,GAAG,CAAU,CAAE,YAAA,CAAY,CACtC,GAEI,EAAe,AAAC,IACpB,EAAW,SAAS,CAAG,AAAA,EAAW,EACpC,EAEA,QAAQ,GAAG,CAAC,CAAC,EAAI,UAAU,GAAI,EAAI,SAAS,GAAG,EAC5C,IAAI,CAAC,CAAC,CAAC,CAAE,QAAS,CAAM,CAAE,CAAE,CAAA,OAAE,CAAM,CAAE,CAAC,GAAK,EAAU,EAAQ,IAC9D,IAAI,CAAC,AAAC,GAAW,EAAa","sources":["<anon>","src/script/main.js","src/script/api.js","src/templates/moviesList.js"],"sourcesContent":["class $d586f0972488f0c4$export$2e2bcd8739ae039 {\n    constructor(){\n        this.baseUrl = \"https://api.themoviedb.org/3\";\n        this.key = \"3ecd3cf96c721059d15f3a2eb08a11b7\";\n        this.lang = \"uk-UA\";\n        this.page = 1;\n        this.params = `api_key=${this.key}&language=${this.lang}&page=${this.page}`;\n    }\n    getPopular() {\n        return fetch(`${this.baseUrl}/movie/popular?${this.params}`).then((res)=>res.json()).then((data)=>data);\n    }\n    getGenres() {\n        return fetch(`${this.baseUrl}/genre/movie/list?${this.params}`).then((res)=>res.json()).then((data)=>data);\n    }\n}\n\n\nvar $fd262de162bd8dd3$export$2e2bcd8739ae039 = moviesList = (arr)=>{\n    let template = \"\";\n    arr.forEach((element)=>{\n        let { title: title, poster_path: poster_path, genresNames: genresNames, release_date: release_date, vote_average: vote_average, id: id } = element;\n        template += `<li class=\"home-list-card\">\r\n                    <img class=\"home-list-img\" src=\"https://image.tmdb.org/t/p/w342${poster_path}\" alt=\"movie picture\" data-id=${id}>\r\n                    <p class=\"home-card-list-title\">${title}</p>\r\n                    <div class=\"card-list\">\r\n                        <p class=\"home-card-category\">${genresNames.join(\", \")} | ${release_date}\"</p>\r\n                        <p class=\"home-card-rating\">${vote_average}</p>\r\n                    </div>\r\n                 </li>\r\n        `;\n    });\n    return template;\n};\n\n\nconst $fcfe2fdbdee94a26$var$api = new (0, $d586f0972488f0c4$export$2e2bcd8739ae039)();\nconst $fcfe2fdbdee94a26$var$moviesWrap = document.querySelector(\".home-list\");\nconst $fcfe2fdbdee94a26$var$addGenres = (movies, genres)=>{\n    return movies.map(({ genre_ids: genre_ids, ...otherProps })=>{\n        let genresNames = genre_ids.map((genreId)=>genres.find(({ id: id })=>id === genreId).name);\n        return {\n            ...otherProps,\n            genresNames: genresNames\n        };\n    });\n};\nconst $fcfe2fdbdee94a26$var$renderMovies = (movies)=>{\n    $fcfe2fdbdee94a26$var$moviesWrap.innerHTML = (0, $fd262de162bd8dd3$export$2e2bcd8739ae039)(movies);\n};\nPromise.all([\n    $fcfe2fdbdee94a26$var$api.getPopular(),\n    $fcfe2fdbdee94a26$var$api.getGenres()\n]).then(([{ results: movies }, { genres: genres }])=>$fcfe2fdbdee94a26$var$addGenres(movies, genres)).then((result)=>$fcfe2fdbdee94a26$var$renderMovies(result));\n\n\n//# sourceMappingURL=index.25df5919.js.map\n","import ApiService from \"./api\";\r\nimport moviesList from \"../templates/moviesList\";\r\n\r\nconst api = new ApiService();\r\n\r\nconst moviesWrap = document.querySelector(\".home-list\");\r\n\r\nconst addGenres = (movies, genres) => {\r\n  return movies.map(({ genre_ids, ...otherProps }) => {\r\n    let genresNames = genre_ids.map(\r\n      (genreId) => genres.find(({ id }) => id === genreId).name\r\n    );\r\n\r\n    return { ...otherProps, genresNames };\r\n  });\r\n};\r\nconst renderMovies = (movies) => {\r\n  moviesWrap.innerHTML = moviesList(movies);\r\n};\r\n\r\nPromise.all([api.getPopular(), api.getGenres()])\r\n  .then(([{ results: movies }, { genres }]) => addGenres(movies, genres))\r\n  .then((result) => renderMovies(result));\r\n","export default class ApiService {\r\n  constructor() {\r\n    this.baseUrl = \"https://api.themoviedb.org/3\";\r\n    this.key = \"3ecd3cf96c721059d15f3a2eb08a11b7\";\r\n    this.lang = \"uk-UA\";\r\n    this.page = 1;\r\n    this.params = `api_key=${this.key}&language=${this.lang}&page=${this.page}`;\r\n  }\r\n\r\n  getPopular() {\r\n    return fetch(`${this.baseUrl}/movie/popular?${this.params}`)\r\n      .then((res) => res.json())\r\n      .then((data) => data);\r\n  }\r\n  getGenres() {\r\n    return fetch(`${this.baseUrl}/genre/movie/list?${this.params}`)\r\n      .then((res) => res.json())\r\n      .then((data) => data);\r\n  }\r\n}\r\n","export default moviesList = (arr) => {\r\n  let template = \"\";\r\n\r\n  arr.forEach((element) => {\r\n    let { title, poster_path, genresNames, release_date, vote_average, id } =\r\n      element;\r\n    template += `<li class=\"home-list-card\">\r\n                    <img class=\"home-list-img\" src=\"https://image.tmdb.org/t/p/w342${poster_path}\" alt=\"movie picture\" data-id=${id}>\r\n                    <p class=\"home-card-list-title\">${title}</p>\r\n                    <div class=\"card-list\">\r\n                        <p class=\"home-card-category\">${genresNames.join(\r\n                          \", \"\r\n                        )} | ${release_date}\"</p>\r\n                        <p class=\"home-card-rating\">${vote_average}</p>\r\n                    </div>\r\n                 </li>\r\n        `;\r\n  });\r\n\r\n  return template;\r\n};\r\n"],"names":["$fd262de162bd8dd3$export$2e2bcd8739ae039","moviesList","arr","template","forEach","element","title","poster_path","genresNames","release_date","vote_average","id","join","$fcfe2fdbdee94a26$var$api","constructor","baseUrl","key","lang","page","params","getPopular","fetch","then","res","json","data","getGenres","$fcfe2fdbdee94a26$var$moviesWrap","document","querySelector","$fcfe2fdbdee94a26$var$addGenres","movies","genres","map","genre_ids","otherProps","genreId","find","name","$fcfe2fdbdee94a26$var$renderMovies","innerHTML","Promise","all","results","result"],"version":3,"file":"index.25df5919.js.map"}